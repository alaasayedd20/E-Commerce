import './polyfills.server.mjs';
import{a as B,b as M,c as N}from"./chunk-RBERB2BQ.mjs";import{a as k}from"./chunk-6LC6M26E.mjs";import{a as F}from"./chunk-AI7PVN3K.mjs";import{a as R}from"./chunk-D2LYUNLP.mjs";import"./chunk-J4BDXTMW.mjs";import"./chunk-CBYSDMSX.mjs";import{E as A,k as O}from"./chunk-YMXBVKXZ.mjs";import{$ as g,Eb as l,Fb as h,Gb as d,Lb as I,Mb as T,Na as D,Ra as o,Rb as w,Tb as E,Y as c,cb as m,fb as u,ja as S,jb as _,ka as P,kb as v,lb as f,mb as C,nb as n,ob as a,pb as p,sb as y,wb as b,xb as s}from"./chunk-PVA7NIBE.mjs";import"./chunk-5XUXGTUW.mjs";var j=()=>[1,2,3,4,5];function z(t,i){if(t&1&&p(0,"img",10),t&2){let e=s().$implicit,r=s(2);u("src",e,D)("alt",r.detailsProduct.title)}}function G(t,i){t&1&&m(0,z,1,2,"ng-template",4)}function U(t,i){t&1&&(n(0,"span"),p(1,"i",11),a())}function $(t,i){t&1&&(n(0,"span"),p(1,"i",12),a())}function q(t,i){if(t&1){let e=y();n(0,"section")(1,"h1",0),l(2,"Product Details"),a(),n(3,"div",1)(4,"div",2)(5,"div")(6,"owl-carousel-o",3),f(7,G,1,0,null,4,v),a()()(),n(9,"div",5)(10,"h2"),l(11),a(),n(12,"p"),l(13),a(),n(14,"h3",6),l(15),a(),n(16,"div",7)(17,"span"),l(18),w(19,"currency"),a(),n(20,"div"),f(21,U,2,0,"span",null,v),m(23,$,2,0,"span"),n(24,"span",8),l(25),a()()(),n(26,"button",9),b("click",function(){S(e);let x=s();return P(x.addCart(x.detailsProduct._id))}),l(27,"+Add to cart"),a()()()()}if(t&2){let e=s();o(6),u("options",e.customOptionsProduct),o(),C(e.detailsProduct.images),o(4),d("",e.detailsProduct.title," "),o(2),d("",e.detailsProduct.description," "),o(2),d("",e.detailsProduct.category.name," "),o(3),h(E(19,7,e.detailsProduct.price,"GBP")),o(3),C(T(10,j).slice(0,e.detailsProduct.ratingsAverage)),o(2),_(e.detailsProduct.ratingsAverage%2!==0?23:-1),o(2),d("",e.detailsProduct.ratingsAverage," ")}}var V=class t{_ActivatedRoute=c(A);_ProductsService=c(k);_CartService=c(F);_ToastrService=c(R);detailsProduct=null;customOptionsProduct={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!0,navSpeed:700,navText:["",""],items:1,nav:!1};ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:i=>{let e=i.get("id");this._ProductsService.getSpecificProduct(e).subscribe({next:r=>{console.log(r.data),this.detailsProduct=r.data},error:r=>{console.log(r)}})},error:i=>{console.log(i)}})}addCart(i){this._CartService.addToCart(i).subscribe({next:e=>{this._CartService.cartNumber.set(e.numOfCartItems),console.log(this._CartService.cartNumber()),this._ToastrService.success(e.message,"FreshCart")}})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=g({type:t,selectors:[["app-details"]],standalone:!0,features:[I],decls:1,vars:1,consts:[[1,"text-main","text-center","my-2"],[1,"row","align-items-center"],[1,"col-md-3"],[3,"options"],["carouselSlide",""],[1,"col-md-9"],[1,"text-main","small"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-muted"],[1,"btn-main","w-100",3,"click"],[1,"w-100",3,"src","alt"],[1,"fas","fa-star","rating-color"],[1,"fas","fa-star-half-stroke","rating-color"]],template:function(e,r){e&1&&m(0,q,28,11,"section"),e&2&&_(r.detailsProduct?0:-1)},dependencies:[N,M,B,O]})};export{V as DetailsComponent};
