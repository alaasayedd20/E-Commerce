import{a as S,b as a,c as O,d as x,f as I,g as _,h as F,i as N,k as E}from"./chunk-AFUNZK7R.js";import{a as d}from"./chunk-NI4CGMN2.js";import{l as y,t as C}from"./chunk-RK5LR227.js";import{$ as u,Fb as n,Mb as g,Sa as v,W as c,aa as s,ca as f,gb as b,ob as o,pb as t,qb as l,xb as h}from"./chunk-QHBEINOU.js";var m=class i{constructor(e){this._HttpClient=e}myHeaders={token:localStorage.getItem("userToken")};chechOut(e,r){return this._HttpClient.post(`${d.baseUrl}/api/v1/orders/checkout-session/${e}?url=${d.urlServer}`,{shippingAddress:r})}static \u0275fac=function(r){return new(r||i)(u(y))};static \u0275prov=c({token:i,factory:i.\u0275fac,providedIn:"root"})};var w=class i{_FormBuilder=s(N);_ActivatedRoute=s(C);_OrdersService=s(m);orders=this._FormBuilder.group({details:[null,[a.required]],phone:[null,[a.required]],city:[null,[a.required]]});ordersSubmit(){console.log(this.orders.value),this._OrdersService.chechOut(this.cartId,this.orders.value).subscribe({next:e=>{e.status=="success"&&window.open(e.session.url,"_self")},error:e=>{console.log(e)}})}cartId="";ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:e=>{this.cartId=e.get("id"),console.log(this.cartId)}})}static \u0275fac=function(r){return new(r||i)};static \u0275cmp=f({type:i,selectors:[["app-orders"]],standalone:!0,features:[g],decls:18,vars:1,consts:[[1,"bg-main-light","rounded-4","shadow","p-2","my-2","w-75","mx-auto"],[1,"text-center"],[3,"ngSubmit","formGroup"],[1,"my-1"],["for","details"],["formControlName","details","id","details",1,"form-control"],["for","phone"],["formControlName","phone","type","tel","id","phone",1,"form-control"],["for","city"],["formControlName","city","type","text","id","city",1,"form-control"],["type","submit",1,"btn-main"]],template:function(r,p){r&1&&(o(0,"section",0)(1,"h1",1),n(2,"ShippingAddress"),t(),o(3,"form",2),h("ngSubmit",function(){return p.ordersSubmit()}),o(4,"div",3)(5,"label",4),n(6,"Details"),t(),l(7,"textarea",5),t(),o(8,"div",3)(9,"label",6),n(10,"Phone"),t(),l(11,"input",7),t(),o(12,"div",3)(13,"label",8),n(14,"City"),t(),l(15,"input",9),t(),o(16,"button",10),n(17,"CheckOut"),t()()()),r&2&&(v(3),b("formGroup",p.orders))},dependencies:[E,I,S,O,x,_,F]})};export{w as OrdersComponent};
