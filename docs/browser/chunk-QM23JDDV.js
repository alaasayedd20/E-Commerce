import{a as G,b as R}from"./chunk-EW2VGFVE.js";import{a as z}from"./chunk-7W2A23FE.js";import{a as $}from"./chunk-K5QVV5TD.js";import{a as U}from"./chunk-QK2ICGBR.js";import"./chunk-XAZLOLJU.js";import{a as O,c as B,e as V,j as W}from"./chunk-AFUNZK7R.js";import{a as j}from"./chunk-LC46PDLG.js";import"./chunk-NI4CGMN2.js";import{w as L}from"./chunk-RK5LR227.js";import{Fb as a,Gb as f,Hb as g,Ib as E,Jb as F,Kb as N,Mb as k,Nb as M,Oa as P,Ob as D,Sa as n,Sb as v,Ub as S,aa as d,ca as x,db as y,gb as l,kb as b,lb as w,ma as C,mb as m,na as h,nb as u,ob as t,pb as o,qb as p,tb as T,xb as I,yb as A}from"./chunk-QHBEINOU.js";var H=(i,r)=>r.id,J=i=>["/details",i],K=()=>[1,2,3,4,5];function Q(i,r){i&1&&(t(0,"span"),p(1,"i",12),o())}function X(i,r){i&1&&(t(0,"span"),p(1,"i",13),o())}function Y(i,r){if(i&1){let e=T();t(0,"div",3)(1,"div",4)(2,"div",5),p(3,"img",6),t(4,"h3",7),a(5),o(),t(6,"h4",8),a(7),v(8,"termtext"),o(),t(9,"div",9)(10,"span"),a(11),o(),t(12,"div"),m(13,Q,2,0,"span",null,w),y(15,X,2,0,"span"),t(16,"span",10),a(17),o()()()(),t(18,"button",11),I("click",function(){let _=C(e).$implicit,c=A();return h(c.addCart(_.id))}),a(19,"Add to cart"),o()()()}if(i&2){let e=r.$implicit;n(2),l("routerLink",D(11,J,e.id)),n(),l("src",e.imageCover,P)("alt",e.title),n(2),g("",e.category.name," "),n(2),f(S(8,8,e.title,2)),n(4),g("",e.price," EGP"),n(2),u(M(13,K).slice(0,e.ratingsAverage)),n(2),b(e.ratingsAverage%2!==0?15:-1),n(2),f(e.ratingsAverage)}}var q=class i{_ProductsService=d(z);_CartService=d(j);_ToastrService=d(U);_NgxSpinnerService=d($);text="";getAllProductsSub;productsList=[];ngOnInit(){this._NgxSpinnerService.show(),this.getAllProductsSub=this._ProductsService.getAllProducts().subscribe({next:r=>{this.productsList=r.data,this._NgxSpinnerService.hide()},error:()=>{this._NgxSpinnerService.hide()}})}ngOnDestroy(){this.getAllProductsSub&&this.getAllProductsSub.unsubscribe()}addCart(r){this._CartService.addToCart(r).subscribe({next:e=>{this._CartService.cartNumber.set(e.numOfCartItems),this._ToastrService.success(e.message,"FreshCart")}})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=x({type:i,selectors:[["app-products"]],standalone:!0,features:[k],decls:8,vars:4,consts:[[1,"my-2"],["type","search","placeholder","Search by name...",1,"form-control","w-75","mx-auto","my-4",3,"ngModelChange","ngModel"],[1,"row","g-3"],[1,"col-md-2"],[1,"product","p-2","cursor-pointer"],[3,"routerLink"],[1,"w-100",3,"src","alt"],[1,"text-main","small"],[1,"h6"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-muted"],[1,"btn-main","w-100",3,"click"],[1,"fas","fa-star","rating-color"],[1,"fas","fa-star-half-stroke","rating-color"]],template:function(e,s){e&1&&(t(0,"section",0)(1,"h2"),a(2,"All Products:"),o(),t(3,"input",1),N("ngModelChange",function(c){return F(s.text,c)||(s.text=c),c}),o(),t(4,"div",2),m(5,Y,20,14,"div",3,H),v(7,"search"),o()()),e&2&&(n(3),E("ngModel",s.text),n(2),u(S(7,1,s.productsList,s.text)))},dependencies:[L,G,R,W,O,B,V]})};export{q as ProductsComponent};
