import{a as A}from"./chunk-II6TEGD3.js";import{a as F}from"./chunk-7W2A23FE.js";import{a as w}from"./chunk-QK2ICGBR.js";import"./chunk-XAZLOLJU.js";import{a as k}from"./chunk-LC46PDLG.js";import"./chunk-NI4CGMN2.js";import{t as P,w as T}from"./chunk-RK5LR227.js";import{Fb as o,Gb as l,Hb as b,Mb as y,Nb as E,Oa as p,Ob as I,Sa as a,aa as d,ca as S,db as u,gb as c,kb as v,lb as h,ma as g,mb as _,na as C,nb as f,ob as i,pb as r,qb as s,tb as B,xb as D,yb as x}from"./chunk-QHBEINOU.js";var L=(n,t)=>t.id,M=n=>["/details",n],N=()=>[1,2,3,4,5];function V(n,t){if(n&1&&(i(0,"div",1),s(1,"img",5),i(2,"h2",6),o(3),r(),i(4,"p",7),o(5),r(),s(6,"hr"),r()),n&2){let e=x();a(),c("src",e.brandDetails.image,p)("alt",e.brandDetails.name),a(2),l(e.brandDetails.name),a(2),b("Slug: ",e.brandDetails.slug,"")}}function $(n,t){n&1&&(i(0,"span"),s(1,"i",15),r())}function z(n,t){n&1&&(i(0,"span"),s(1,"i",16),r())}function U(n,t){if(n&1){let e=B();i(0,"div",4)(1,"div",8)(2,"div",9),s(3,"img",10),i(4,"h3",11),o(5),r(),i(6,"h4",12),o(7),r(),i(8,"div",13)(9,"span"),o(10),r(),i(11,"div"),_(12,$,2,0,"span",null,h),u(14,z,2,0,"span"),i(15,"span",7),o(16),r()()()(),i(17,"button",14),D("click",function(){let R=g(e).$implicit,j=x();return C(j.addCart(R.id))}),o(18,"Add to cart"),r()()()}if(n&2){let e=t.$implicit;a(2),c("routerLink",I(8,M,e.id)),a(),c("src",e.imageCover,p)("alt",e.title),a(2),l(e.category==null?null:e.category.name),a(2),l(e.title.split(" ",2).join(" ")),a(3),b("",e.price," EGP"),a(2),f(E(10,N).slice(0,e.ratingsAverage)),a(2),v(e.ratingsAverage%2!==0?14:-1),a(2),l(e.ratingsAverage)}}var O=class n{_ActivatedRoute=d(P);_BrandsService=d(A);_ProductsService=d(F);_CartService=d(k);_ToastrService=d(w);brandDetails=null;brandProducts=[];ngOnInit(){this._ActivatedRoute.paramMap.subscribe(t=>{let e=t.get("id");e&&(this.loadBrandDetails(e),this.loadBrandProducts(e))})}loadBrandDetails(t){this._BrandsService.getSpecificBrand(t).subscribe({next:e=>{this.brandDetails=e.data}})}loadBrandProducts(t){this._ProductsService.getProductsByBrand(t).subscribe({next:e=>{this.brandProducts=e.data}})}addCart(t){this._CartService.addToCart(t).subscribe({next:e=>{this._CartService.cartNumber.set(e.numOfCartItems),this._ToastrService.success(e.message,"FreshCart")}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=S({type:n,selectors:[["app-brand-details"]],standalone:!0,features:[y],decls:7,vars:1,consts:[[1,"my-4","container"],[1,"text-center","mb-4"],[1,"mb-3"],[1,"row","g-3"],[1,"col-md-2"],[1,"w-25","mx-auto","d-block","mb-3","rounded",3,"src","alt"],[1,"text-main"],[1,"text-muted"],[1,"product","p-2","cursor-pointer"],[3,"routerLink"],[1,"w-100",3,"src","alt"],[1,"text-main","small"],[1,"h6"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn-main","w-100",3,"click"],[1,"fas","fa-star","rating-color"],[1,"fas","fa-star-half-stroke","rating-color"]],template:function(e,m){e&1&&(i(0,"section",0),u(1,V,7,4,"div",1),i(2,"h3",2),o(3,"Products of this Brand:"),r(),i(4,"div",3),_(5,U,19,11,"div",4,L),r()()),e&2&&(a(),v(m.brandDetails?1:-1),a(4),f(m.brandProducts))},dependencies:[T]})};export{O as BrandDetailsComponent};
