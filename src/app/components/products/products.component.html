<section class="my-2">
  <h2>All Products:</h2>
  <input [(ngModel)]="text" type="search" placeholder="Search by name..." class="form-control w-75 mx-auto my-4">

  <div class="row g-3">
    @for (product of productsList | search : text; track product.id) {
      <div class="col-md-2">
        <div class="product p-2 cursor-pointer">
          <div [routerLink]="['/details', product.id]">
            <img class="w-100" [src]="product.imageCover" [alt]="product.title">
            <h3 class="text-main small">{{product.category.name}} </h3>
            <h4 class="h6">{{product.title | termtext : 2}}</h4>
            <div class="d-flex justify-content-between align-items-center">
              <span>{{product.price}} EGP</span>
              <div>
                @for (item of [1,2,3,4,5].slice(0, product.ratingsAverage); track $index) {
                  <span><i class="fas fa-star rating-color"></i></span>
                }
                @if(product.ratingsAverage % 2 !== 0){
                  <span><i class="fas fa-star-half-stroke rating-color"></i></span>
                }
                <span class="text-muted">{{product.ratingsAverage}}</span>
              </div>
            </div>
          </div>
          <button class="btn-main w-100" (click)="addCart(product.id)">Add to cart</button>
        </div>
      </div>
    }
  </div>
</section>
